<!--<secondary-menu-directive></secondary-menu-directive>-->
<div id="main-menu" class="main-menu">
  <google-menu></google-menu>
</div>

<section class="content background" data-ng-controller="RandomMapController"
         ng-style="{'background-image': 'url(' + staticMap.mapUrl + ')', 'background-size' : 'cover' }"
         data-ng-class="{'page-view-menu-open': toggleSecondMenu}">

  <section class="container">
    <a ui-sref="home" class="small-main-logo logo-on-page logo-second-page img-responsive"></a>

    <div class="main-content-outer">

      <section data-ng-controller="ProjectsController" data-ng-init="init()" class="main-content-inner">

        <div class="list-projects">

          <div class="page-header">

            <div class="row">
              <div class="col-md-6">
                <h1>Projects</h1>
                <span>
                  <a tooltip-placement="right" uib-tooltip="Map View" data-ng-click="showMap()">
                    <i class="fa fa-map-o"></i>
                  </a>
                </span>
              </div>
              <div class="col-md-6 search-input-div">
                <span class="input input-secondary pull-right">
                    <input class="input_field input_field-secondary" type="text" id="search"
                           data-ng-model="publishedProjects.$"/>
                    <label class="input_label input_label-secondary" for="search">
                      <span class="input_label-content input_label-content-secondary">Search Projects</span>
                    </label>
                </span>
              </div>
            </div>


          </div>

          <div class="list-group">
            <a data-ng-repeat="publishedProject in publishedProjects" data-ng-href="/projects/{{publishedProject._id}}"
               class="carddemoBasicUsage">
              <md-content class="md-padding" layout-lg="xs" layout="column">
                <!--<div flex-xs="" flex-gt-xs="50" layout="column">-->
                <md-card>
                  <md-card-title>
                    <md-card-title-text>
                      <span class="md-headline" data-ng-bind="publishedProject.title"></span>
                      <span class="md-subhead" data-ng-bind="publishedProject.user.displayName"></span>
                    </md-card-title-text>
                    <md-card-title-media>
                      <div class="md-media-md card-media">
                        <img class="img-responsive" data-ng-src="{{publishedProject.mainImgThumbnail}}"/>
                      </div>
                    </md-card-title-media>
                  </md-card-title>
                </md-card>
              </md-content>
            </a>


            <div class="alert alert-warning text-center"
                 data-ng-hide="!PublishingService.getPublishedProjects() || projects.length">
              No Projects yet, why don't you <a ui-sref="create">create one</a>?
            </div>
          </div>

          <!--see `modules/core/client/services/utils.client.service.js` for pagination script`-->
          <uib-pagination boundary-links="true" max-size="8" items-per-page="itemsPerPage" total-items="filterLength"
                          ng-model="currentPage" ng-change="pageChanged()">
          </uib-pagination>
        </div>
      </section>
    </div>
  </section>
</section>
