<secondary-menu-directive></secondary-menu-directive>

<section class="content background" data-ng-controller="RandomMapController"
         ng-style="{'background-image': 'url(' + staticMap.mapUrl + ')', 'background-size' : 'cover' }"
         data-ng-class="{'page-view-menu-open': toggleSecondMenu}">

    <section class="container">

        <div class="main-content-outer">

            <section class="main-content-inner" data-ng-controller="ContactsController" data-ng-init="find()">

                <div class="page-header">
                    <h1>Messages</h1>
                </div>

                <table class="table table-bordered table-striped">
                    <thead ts-wrapper>
                    <tr>
                        <th ts-criteria="firstName">First Name</th>
                        <th ts-criteria="lastName|lowercase" ts-default>Last Name</th>
                        <th ts-criteria="email">E-Mail</th>
                        <th ts-criteria="created">Date Sent</th>
                        <!--<th ts-criteria="read">Read</th>-->
                        <!--<th ts-criteria="flag">Flag</th>-->
                    </tr>
                    </thead>


                    <tbody>

                    <tr data-ng-repeat="contact in contacts | orderBy: '-created'" data-ng-class="{'message-read' : contact.read}" data-ng-click="viewMessage(contact._id)">
                            <td>{{ contact.firstName }}</td>
                            <td>{{ contact.lastName }}</td>
                            <!--<td>{{ contact.email }}</td>-->
                            <td>{{ contact._id }}</td>
                            <td>{{ contact.created | date : short }}</td>
                            <!--<td>{{ contact.read }}</td>-->
                            <!--<td align="center"><i class="fa fa-flag" data-ng-click="toggleFlag = !toggleFlag" data-ng-class="{'select' : toggleFlag = true}"></i></td>-->
                    </tr>

                    </tbody>

                </table>

              <pagination boundary-links="true" max-size="8" items-per-page="itemsPerPage" total-items="filterLength" ng-model="currentPage" ng-change="pageChanged()"></pagination>

            </section>
        </div>


    </section>
</section>
